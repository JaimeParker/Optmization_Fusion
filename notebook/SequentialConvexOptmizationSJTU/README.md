# 最优化与最优制导

简答加一个计算（推导公式）

## 1. What is guidance

制导问题的关键词有：

* 轨迹
* 飞行器动力学（主要是平动）
* Select Commands
* 当前状态和期望状态
* 约束

典型的制导问题有：

* Reference trajectory tracking
* Homing guidance (Missile)
* On-line trajectory generation

控制和制导的区别：

| 控制           | 制导           |
| -------------- | -------------- |
| 力和力矩       | 实现机动       |
| 姿态和飞行状况 | 输出给控制单元 |
| 稳定性         | 速度和加速度   |

计算制导：

* 依赖于数值算法
* 依赖于在线计算，对计算机算力有要求
* 基于模型或是基于数据的
* 优化是计算制导一个常用的手段

## 2. Generic Formulation of Trajectory Optimization

计算制导和轨迹优化的关系：

| 计算制导       | 轨迹优化       |
| -------------- | -------------- |
| 决定轨迹       | 选择轨迹       |
| 控制飞行器     | 设计具体机动   |
| 需要考虑约束   | 可以加入约束   |
| 最优性不能保证 | 可以保证最优性 |
| 大多数在线生成 | 可以离线生成   |

轨迹优化问题的要素：

* 损失函数，目标函数
* 动力学方程
* 约束（起始点约束，路径约束），等式约束和不等式约束，可以转换

轨迹优化问题的标准形式：

最小化 $u(t),p$：
$$
J=\phi(x(f_t)) + \int_{t_0}^{t_f}L(x(t),u(t),t) {\rm d}t
$$
基于：
$$
\dot{x}(t)=f(x(t),u(t),p,t),\\
h(x(t),u(t),p,t)=0,\\
g(x(t),u(t),p,t)\leq 0
$$

## 3. Discretization Methods

离散方法：

* 单次打靶
* 多次打靶
* 配点法（完全离散）

单次打靶：

* 只调整控制变量，使用变量最少
* 在每个点范围进行完整时间的积分
* 通过对动力学方程的积分，获得状态变量
* 庞大的非线性变量可能导致无法收敛

多次打靶：

* 调整控制变量和一部分状态变量
* 时间分段，每个点不是完整时间积分，而是分段时间积分
* 能够增强对庞大的非线性变量的收敛性

配点法：

* 每一个点的状态和控制变量都离散
* 每个间隔都
* 优化每个点的状态和控制变量
* 稀疏的梯度结构

## 4. Newton-Type Methods in Computational Guidance
